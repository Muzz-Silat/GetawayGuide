{% comment %} {% load static %}
  <link rel="stylesheet" href="{% static '../static/css/edit-profile.css' %}">
  <h1 style="text-align: center;">Edit Profile</h1>
{% if user.is_authenticated %}
<p style="text-align: center;">Hello, {{ user.username }}!</p>

<form method="post" enctype="multipart/form-data">
{% csrf_token %}
  {{ form.non_field_errors }}

  <div class="content-container">
    <div class="profile-container">
      {% if form.instance.profile_picture %}
        <img src="{{ form.instance.profile_picture.url }}" alt="Profile Picture" class="profile-picture">
      {% else %}
        <div class="profile-picture" style="background-color: #ccc;"></div>
      {% endif %}
      <input type="file" class="custom-file-input" id="{{ form.profile_picture.auto_id }}" name="{{ form.profile_picture.html_name }}">
      <label for="{{ form.profile_picture.auto_id }}" class="edit-profile-picture"><i class="fa fa-camera"></i></label>
    </div>

<div class="form-container">
  {% for field in form %}
    {% if field.name != 'profile_picture' %}
      <div class="form-field">
        <label for="{{ field.auto_id }}">{{ field.label }}</label>
        {{ field }}
      </div>
    {% endif %}
  {% endfor %}
</div>

    
    <div style="text-align: center;">
      <button type="submit" class="save-changes-button">Save Changes</button>
    </div>
  </div>
</form>
{% else %}
<p style="text-align: center;">Please <a href="{% url 'login' %}">log in</a> to edit your profile.</p>
{% endif %} {% endcomment %}

{% load static%}
<!DOCTYPE html>
<html style="font-size: 16px;" lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="Edit Profile">
    <meta name="description" content="">
    <title>Edit Profile</title>
    <link rel="stylesheet" href="{% static 'css/main.css' %}" type="text/css" media="screen"/>
    <link rel="stylesheet" href="{% static 'css/edit-profile.css' %}" type="text/css" media="screen"/>
    <link rel="shortcut icon" href="{% static 'images/favicon.ico' %}" type="image/x-icon">
    {% comment %} <link rel="stylesheet" href="../static/css/main.css" media="screen">
    <link rel="stylesheet" href="../static/css/view-profile.css" media="screen">
    <script class="u-script" type="text/javascript" src="../static/src/jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="../static/src/main.js" defer=""></script> {% endcomment %}
    <script class="u-script" type="text/javascript" src="{% static 'src/jquery.js' %}" defer=""></script>
    <script class="u-script" type="text/javascript" src="{% static 'src/main.js' %}" defer=""></script>
    <meta name="generator" content="Nicepage 5.7.9, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
    <link id="u-page-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:100,200,300,400,500,600,700,800,900">
    <script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "Organization",
    "name": "",
    "logo": "{% static 'images/logo.jpg' %}"
    }
    </script>
    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="Profile">
    <meta property="og:type" content="website">
    <meta data-intl-tel-input-cdn-path="intlTelInput/">
  </head>
  <body class="u-body u-xl-mode" data-lang="en">
    <script src="https://website-widgets.pages.dev/dist/sienna.min.js" defer></script>
    <header class="u-clearfix u-header u-white u-header" id="sec-804c">
      <div class="u-clearfix u-sheet u-sheet-1">
        <a href="/" class="u-image u-logo u-image-1" data-image-width="809" data-image-height="308">
          <img src="{% static 'images/logo.jpg' %}" class="u-logo-image u-logo-image-1">
        </a>
        <nav class="u-menu u-menu-one-level u-offcanvas u-menu-1">
          <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0px;">
            <a class="u-button-style u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-top-bottom-menu-spacing u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="#">
              <svg class="u-svg-link" viewBox="0 0 24 24"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#menu-hamburger"></use></svg>
              <svg class="u-svg-content" version="1.1" id="menu-hamburger" viewBox="0 0 16 16" x="0px" y="0px" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
                <g>
                  <rect y="1" width="16" height="2"></rect>
                  <rect y="7" width="16" height="2"></rect>
                  <rect y="13" width="16" height="2"></rect>
                </g>
              </svg>
            </a>
          </div>
          <div class="u-custom-menu u-nav-container">
            <ul class="u-nav u-unstyled u-nav-1">
              <li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-black u-text-hover-palette-1-base" href="/" style="padding: 10px 20px;">Home</a></li>
              <li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-black u-text-hover-palette-1-base" href="/create-itinerary/" style="padding: 10px 20px;">Create Itinerary</a></li>
              <li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-black u-text-hover-palette-1-base" href="/reviews/" style="padding: 10px 20px;">Reviews</a></li>
              <li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-black u-text-hover-palette-1-base" href="/travel-guide/" style="padding: 10px 20px;">Travel Guide</a></li>
              {% if user.is_authenticated %}
              {% with user.profile.profile_picture as profile_picture %}
                {% if profile_picture %}
                  <a href="{% url 'dashboard' %}" class="profile-picture-icon">
                    <img src="{{ profile_picture.url }}" alt="Profile Picture" width="40" height="40" style="border-radius: 50%; border: 2px solid black; position: relative; top: 15px; padding 10px 20px; margin-left: 20px">
                  </a>
                  <img src="../static/images/moon.png" id="icon" height="30" width"30.5" style= "position: relative; top: 2px;  padding 10px 20px; margin-left: 20px;">
                {% else %}
                  <li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-black u-text-hover-palette-1-base" href="{% url 'dashboard' %}" style="padding: 10px 20px;">Profile</a></li>
                  <img src="../static/images/moon.png" id="icon" height="30" width"30.5" style= "position: relative; top: 2px;  padding 10px 20px; margin-left: 20px;">
                {% endif %}
              {% endwith %}
            {% endif %}
            </ul>
          </div>
          <div class="u-custom-menu u-nav-container-collapse">
            <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
              <div class="u-inner-container-layout u-sidenav-overflow">
                <div class="u-menu-close"></div>
                  <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2">
                    <li class="u-nav-item"><a class="u-button-style u-nav-link" href="/">Home</a></li>
                    <li class="u-nav-item"><a class="u-button-style u-nav-link" href="/create-itinerary/">Create Itinerary</a></li>
                    <li class="u-nav-item"><a class="u-button-style u-nav-link" href="/reviews/">Reviews</a></li>
                    <li class="u-nav-item"><a class="u-button-style u-nav-link" href="/travel-guide/">Travel Guide</a></li>
                    {% if user.is_authenticated %}
                      {% with user.profile.profile_picture as profile_picture %}
                        {% if profile_picture %}
                          <a href="{% url 'dashboard' %}" class="profile-picture-icon">
                            <img src="{{ profile_picture.url }}" alt="Profile Picture" width="30" height="30" style="border-radius: 50%; border: 2px solid black; position: relative; top: 10px;">
                          </a>
                        {% else %}
                          <li class="u-nav-item"><a class="u-button-style u-nav-link" href="{% url 'dashboard' %}">Profile</a></li>
                        {% endif %}
                      {% endwith %}
                    {% endif %}
                  </ul>
                </div>
              </div>
            <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
          </div>
        </nav>
      </div>
    </header>
    <section class="u-clearfix u-image u-section-1" id="sec-0815" data-image-width="1280" data-image-height="680">
      <div class="u-clearfix u-sheet u-sheet-1">
        <h1 class="u-custom-font u-font-roboto-slab u-text u-text-default u-title u-text-1 edit-prof">Edit Profile</h1>
        {% if user.is_authenticated %}
          <form method="post" enctype="multipart/form-data">
          {% csrf_token %}
          {{ form.non_field_errors }}
          <div class="content-container">
            <div class="profile-container">
              {% if form.instance.profile_picture %}
                <img src="{{ form.instance.profile_picture.url }}" alt="Profile Picture" class="profile-picture">
              {% else %}
                <div class="profile-picture" style="background-color: #ccc;"></div>
              {% endif %}
              <input type="file" class="custom-file-input" id="{{ form.profile_picture.auto_id }}" name="{{ form.profile_picture.html_name }}">
              <label for="{{ form.profile_picture.auto_id }}" class="edit-profile-picture"><svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 96 960 960" width="48"><path d="M471 434q-9 0-13.5-7t.5-15l118-206q4-7 11.5-10t14.5-1q79 25 144 83t100 136q4 8-.5 14t-13.5 6H471Zm-144 79L209 308q-4-7-2.5-15t6.5-13q56-50 124-77t140-27q11 0 22.5.5T522 178q9 1 12.5 7.5T533 200L353 513q-5 8-13 8t-13-8ZM111 677q-8 0-14-4.5T89 660q-5-20-7-41t-2-41q0-66 20-126.5T158 339q5-8 12.5-7t12.5 9l179 314q5 8 .5 15t-13.5 7H111Zm245 279q-79-26-142.5-84T115 737q-4-8 0-14t13-6h360q9 0 13.5 7.5T501 740L382 945q-4 7-11.5 10t-14.5 1Zm132 20q-13 0-26.5-.5T436 973q-9-1-12.5-7.5T425 951l181-312q5-8 13-8t13 8l119 206q4 7 2.5 15t-6.5 13q-55 50-122.5 76.5T488 976Zm290-166L596 497q-5-8-.5-15.5T609 474h240q8 0 14 5t8 13q5 22 7 43t2 41q0 63-20 124t-58 112q-5 8-12 7t-12-9Z"/></svg></label>
            </div>
            <div class="form-container">
              {% for field in form %}
                {% if field.name != 'profile_picture' %}
                  <div class="form-field">
                    <label for="{{ field.auto_id }}">{{ field.label }}</label>
                    {{ field }}
                  </div>
                {% endif %}
              {% endfor %}
            </div>
            <div style="text-align: center;">
              <button type="submit" class="save-changes-button">Save Changes</button>
            </div>
          </div>
          </form>
        {% else %}
          <p style="text-align: center;">Please <a href="{% url 'login' %}">log in</a> to edit your profile.</p>
        {% endif %}
      </div>
    </section>
    <footer class="u-align-center-md u-align-center-sm u-align-center-xs u-black u-clearfix u-footer u-footer" id="sec-ffea">
      <p class="u-align-center-lg u-align-center-md u-align-center-xl u-text u-text-1">Alpha Project Disclaimer: This server is provided by the School of Computer Science at the University of Birmingham to allow users to provide feedback on software developed by students as part of an assignment. While we take reasonable precautions, we cannot guarantee the security of the data entered into the system. Do NOT enter any real personal data (e.g. financial information or otherwise) into the system. The assignment runs until May 31st 2023, at which time the server and all associated data will be destroyed.</p>
      <a class="u-image u-logo u-image-1" data-image-width="809" data-image-height="308">
        <img src="{% static 'images/logo.jpg' %}" class="u-logo-image u-logo-image-1">
      </a>
      <a href="/gdpr/" class="u-border-2 u-btn u-btn-round u-button-style u-hover-palette-1-light-2 u-radius-50 u-white u-btn-1">GDPR</a>
    </footer>
    <script>
      var icon = document.getElementById("icon");

      icon.onclick = function() {
          document.body.classList.toggle("dark-theme");
          if(document.body.classList.contains("dark-theme")) {
              icon.src = "../static/images/sun.png";
          } else{
              icon.src = "../static/images/moon.png"
          }
      }
  </script>
  </body>
</html>
  
   
     